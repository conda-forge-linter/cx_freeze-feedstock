From 4a24f1cdefe05c84c215c9f1b3694697e6ccab60 Mon Sep 17 00:00:00 2001
From: Anthony Tuininga <anthony.tuininga@gmail.com>
Date: Mon, 6 Jan 2020 21:28:05 -0700
Subject: [PATCH] Fix bug with cxfreeze script introduced in 6.1
 (https://github.com/anthony-tuininga/cx_Freeze/issues/560).

---
 cx_Freeze/__init__.py    | 2 +-
 cx_Freeze/freezer.py     | 4 +++-
 doc/src/conf.py          | 4 ++--
 doc/src/releasenotes.rst | 8 ++++++++
 4 files changed, 14 insertions(+), 4 deletions(-)

diff --git a/cx_Freeze/freezer.py b/cx_Freeze/freezer.py
index 016aa1b..36f5dfe 100644
--- a/cx_Freeze/freezer.py
+++ b/cx_Freeze/freezer.py
@@ -70,7 +70,7 @@ def get_resource_file_path(dirName, name, ext):
 
 class Freezer(object):
 
-    def __init__(self, executables, constantsModule, includes = [],
+    def __init__(self, executables, constantsModule = None, includes = [],
             excludes = [], packages = [], replacePaths = [], compress = True,
             optimizeFlag = 0, path = None, targetDir = None, binIncludes = [],
             binExcludes = [], binPathIncludes = [], binPathExcludes = [],
@@ -78,6 +78,8 @@ def __init__(self, executables, constantsModule, includes = [],
             namespacePackages = [], metadata = None, includeMSVCR = False,
             zipIncludePackages = [], zipExcludePackages = ["*"]):
         self.executables = list(executables)
+        if constantsModule is None:
+            constantsModule = ConstantsModule()
         self.constantsModule = constantsModule
         self.includes = list(includes)
         self.excludes = list(excludes)
